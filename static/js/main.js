"use strict";var $plugins={};function noop(){}function canUseWebp(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0==t.toDataURL("image/webp").indexOf("data:image/webp")}function _createModalFooter(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(0===t.length)return document.createElement("div");var n=document.createElement("div");return n.classList.add("vmodal__footer"),t.forEach(function(t){var e=document.createElement(t.tag||"button");"a"===t.tag&&e.setAttribute("href",t.link),t.evData&&e.setAttribute(t.evData[0],t.evData[1]),e.innerHTML=t.text,e.classList.add("".concat(t.classEl||"g-btn")),e.onclick=t.handler||noop,n.appendChild(e)}),n}function _createModal(t){var e=document.createElement("div");return e.classList.add("vmodal"),e.insertAdjacentHTML("afterbegin",'\n\t\t<div class="vmodal__overlay">\n\t\t\t<div class="vmodal__window '.concat(t.afterClass||"",'" style="max-width: ').concat(t.width||"600px",'">\n\t\t\t').concat(t.closable?'\n\t\t\t\t<span class="vmodal__close" data-close="true">\n\t\t\t\t\t<svg class="svg-sprite-icon icon-close" data-close="true">\n\t\t\t\t\t\t<use xlink:href="static/images/sprite/symbol/sprite.svg#close"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</span>':"",'\n\n\t\t\t\t<div class="vmodal__header">\n\t\t\t\t\t<span class="vmodal__title" data-title=\'true\'>').concat(t.title||"Модальное окно",'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="vmodal__body" data-content="true">\n\t\t\t\t\t').concat(t.content||"","\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t")),_createModalFooter(t.footerButtons).appendAfter(e.querySelector("[data-content]")),document.body.appendChild(e),e}window.$plugins=$plugins,Element.prototype.appendAfter=function(t){t.parentNode.insertBefore(this,t.nextSibling)},window.onload=function(){for(var t=document.querySelectorAll("[data-bg]"),e=0;e<t.length;e++){var n=t[e].getAttribute("data-bg");t[e].style.backgroundImage="url("+n+")"}var a=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),a=a?parseInt(a[1]):0;if(canUseWebp()||65<=a)for(var s=document.querySelectorAll("[data-bg-webp]"),i=0;i<s.length;i++){var o=s[i].getAttribute("data-bg-webp");s[i].style.backgroundImage="url("+o+")"}},$plugins.modal=function(t){function e(t){(t.target.closest(".vmodal__close")||t.target.classList.contains("vmodal__overlay"))&&(o.close(),setTimeout(function(){return o.destroy()},2e3))}function n(t){"Escape"==t.key&&(o.close(),setTimeout(function(){return o.destroy()},2e3))}var a=_createModal(t),s=!1,i=!1,o={open:function(){if(i)return console.log("destroyed true");s||a.classList.add("open"),s||document.body.classList.add("show-modal")},close:function(){s=!0,a.classList.remove("open"),a.classList.add("hide"),document.body.classList.remove("show-modal"),setTimeout(function(){a.classList.remove("hide"),s=!1},200)}};return a.addEventListener("click",e),document.addEventListener("keydown",n),Object.assign(o,{destroy:function(){a.parentNode.removeChild(a),a.removeEventListener("click",e),a.removeEventListener("click",n),i=!0},setContent:function(t,e){a.querySelector("[data-title]").innerHTML=t,a.querySelector("[data-content]").innerHTML=e}})},$(document).ready(function(t){function e(t,e,n){t.insertAdjacentElement(n,e)}var n=document.querySelector(".header__links"),a=(document.querySelector(".main-menu"),document.querySelector(".header__mobile-logo")),s=document.querySelector(".nav");$(document).width()<992?e(s,n,"beforeend"):e(a,n,"afterend"),$(window).resize(function(t){$(document).width()<992?e(s,n,"beforeend"):e(a,n,"afterend")}),$(".nav__target").on("click",function(){$(this).toggleClass("active"),$(this).next(".nav__sub").slideToggle()});var i=$(".hide-nav"),o=$(".main-menu"),l=$(".content"),r=$(".wrapper");i.on("click",function(){o.toggleClass("active"),l.toggleClass("active"),r.toggleClass("active")});var c,d,p;new Swiper(".category-slider",{spaceBetween:12,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:2,spaceBetween:8},1200:{slidesPerView:3,spaceBetween:12},1601:{slidesPerView:4,spaceBetween:12}}});function u(){var e;d.forEach(function(t){t.classList.remove("is-active")}),this.classList.add("is-active"),c=this.getAttribute("data-tab-name"),e=c,p.forEach(function(t){t=t.classList;t.contains(e)?t.add("is-active"):t.remove("is-active")})}d=document.querySelectorAll(".tabs-nav__item"),p=document.querySelectorAll(".tabs-content__item"),d.forEach(function(t){t.addEventListener("click",u)}),$("[data-show-hidden]").on("click",function(){$(this).toggleClass("active"),$(this).next().slideToggle("fast")});var v,m="\n\t\t<form action=''>\n\t\t\t<div class='input-wrap'>\n\t\t\t\t<input type='email' name='email' placeholder='E-mail'>\n\t\t\t</div>\n\t\t\t<div class='input-wrap'>\n\t\t\t\t<input type='password' name='password' placeholder='Пароль'>\n\t\t\t\t<span class='inner-elem' data-modal='forgot'> Забыли? </span>\n\t\t\t</div>\n\t\t\t<div class='modal-socials'>\n\t\t\t\t<a href=\"lc.html\" class='g-btn g-btn--modal'>Войти</a>\n\t\t\t\t<div class='modal-socials__links'>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<svg class=\"svg-sprite-icon icon-vk\">\n\t\t\t\t\t\t\t<use xlink:href=\"static/images/sprite/symbol/sprite.svg#vk\"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t<svg class=\"svg-sprite-icon icon-fb\">\n\t\t\t\t\t\t\t<use xlink:href=\"static/images/sprite/symbol/sprite.svg#fb\"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t\t<div class=\"vmodal__footer\">\n\t\t\t<span class=\"helper\">Ещё не с нами?</span>\n\t\t\t<button data-modal=\"repeat-registration\" class=\"change__btn\">Регистрация</button>\n\t\t</div>",g={afterClass:"user-modal",title:"Вход",closable:!0,width:"465px",content:m},b={afterClass:"review",title:"Отзыв оставил — бонус получил!",closable:!0,width:"1005px",content:"\n\t\t<form action=''>\n\t\t\t<div class='form-wrapper'>\n\t\t\t\t<div class='form-col'>\n\t\t\t\t\t<textarea name='text' rows='7' placeholder='А вот тут-то вы отзыв-то нам и напишите!'></textarea>\n\t\t\t\t\t<label class=\"file-style\">\n\t\t\t\t\t<input multiple type='file' name='file'>\n\t\t\t\t\t\t<svg class=\"svg-sprite-icon icon-cloud-uploading\">\n\t\t\t\t\t\t\t<use xlink:href=\"static/images/sprite/symbol/sprite.svg#cloud-uploading\"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<div class=\"file-text\">\n\t\t\t\t\t\t\t<p><span>Добавить фото</span> (максимум 3 фото, jpg, весом до 5mb).</p>\n\t\t\t\t\t\t\t<p>Или закиньте фото сюда</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t\t<button class='g-btn g-btn--modal'>Добавить отзыв</button>\n\t\t\t\t</div>\n\t\t\t\t<div class='form-col'>\n\t\t\t\t\t<p>Сейчас вы в шаге от того, чтобы получить купон со скидкой на любую покупку в нашем магазине! Вам всего лишь надо написать отзыв и обязательно приложить фотографию\n\t\t\t\t\tв нашей футболке (иначе бонус не будет начислен)! \n\t\t\t\t\tЕсли вы купили у нас разные футболки, то будет чудесно, если вы пришлёте фото в каждой футболке, но мы \n\t\t\t\t\tне настаиваем ;) </p>\n\n\t\t\t\t\t<p> После проверки отзыва вам будет начислен купон, его вы сможете увидеть в личном кабинете в разделе «Купоны». Если отзыв был корректен и не заставил плакать зайчат, \n\t\t\t\t\tто начисление происходит примерно в течении пары часов. </p>\n\t\t\t\t\t<p> <b>Внимание! </b>\n\t\t\t\t\t<br>\n\t\t\t\t\tКупон за отзыв можно получить только один раз. Повторные отзывы и фотографии уже будут без начислений, но нам всё равно будет приятно! </p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form> "},f={afterClass:"cart-modal",title:"Корзина",closable:!0,width:"700px",content:'\n\t<div class="vmodal__wrap">\n\t<div class="vmodal__wrap-img"><img src="static/images/content/card-cmall.png" alt=""></div>\n\t<div class="vmodal__wrap-body">\n\t  <h3 class="vmodal__wrap-title">Футболка Dead Brush Brotherhood </h3>\n\t  <div class="vmodal__wrap-price"><span class="back rub">1994</span><span class="rub">1650</span></div><a class="vmodal__wrap-preOrder" href="#">\n\t\t<p>Товар доступен по предзаказу</p></a>\n\t  <div class="vmodal__wrap-size">\n\t\t<div class="product__size">\n\t\t  <label class="product__check">\n\t\t\t<input type="radio" name="size"/><span>xs</span>\n\t\t  </label>\n\t\t  <label class="product__check">\n\t\t\t<input type="radio" name="size"/><span>s</span>\n\t\t  </label>\n\t\t  <label class="product__check">\n\t\t\t<input type="radio" name="size"/><span>m</span>\n\t\t  </label>\n\t\t  <label class="product__check">\n\t\t\t<input type="radio" name="size"/><span>l</span>\n\t\t  </label>\n\t\t  <label class="product__check">\n\t\t\t<input type="radio" name="size"/><span>xl</span>\n\t\t  </label>\n\t\t  <label class="product__check">\n\t\t\t<input type="radio" name="size"/><span>2xl</span>\n\t\t  </label>\n\t\t  <label class="product__check">\n\t\t\t<input type="radio" name="size"/><span>3xl</span>\n\t\t  </label>\n\t\t</div>\n\t\t<div class="checkout__info-quantity quantity">\n\t\t  <h4>Кол-во </h4>\n\t\t  <div class="quantity-wrap">\n\t\t\t<div class="quantity-min quantity-el">\n\t\t\t  <svg class="svg-sprite-icon icon-remove">\n\t\t\t\t<use xlink:href="static/images/sprite/symbol/sprite.svg#remove"></use>\n\t\t\t  </svg>\n\t\t\t</div>\n\t\t\t<div class="quantity-val quantity-el"><span>2</span></div>\n\t\t\t<div class="quantity-plus quantity-el">\n\t\t\t  <svg class="svg-sprite-icon icon-plus">\n\t\t\t\t<use xlink:href="static/images/sprite/symbol/sprite.svg#plus"></use>\n\t\t\t  </svg>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div>\n\t  </div>\n\t</div>\n  </div>\n  <div class="vmodal__info">\n\t<div class="vmodal__body">\n\t  <p>Дэд Хэды, обязательно проверяйте размерную сетку перед покупкой у каждого изделия. Мы ещё в поиске идеального кроя ;) Поэтому у разных тиражей одного и того же изделия могут быть разные размеры. </p>\n\t</div>\n\t<div class="vmodal__btns"><a class="btn btn--orange" href="checkout.html">Оформить заказ</a><a class="g-btn g-btn--modal" href="catalog.html">ПРОДОЛЖИТЬ ПОКУПКИ</a></div>\n  </div>\n\t'};$("body").on("click","[data-modal]",function(t){switch($(this).attr("data-modal")){case"login":v=$plugins.modal(g),setTimeout(function(){return v.open()},100);break;case"repeat-login":v.setContent("Войти",m);break;case"repeat-registration":v.setContent("Регистрация","\n\t\t<form action=''>\n\t\t\t<div class='input-wrap'>\n\t\t\t\t<input type='email' name='email' placeholder='E-mail'>\n\t\t\t</div>\n\t\t\t<div class='input-wrap'>\n\t\t\t\t<input type='password' name='password' placeholder='Пароль'>\n\t\t\t</div>\n\t\t\t<div class='input-wrap'>\n\t\t\t\t<input type='password' name='repeat_password' placeholder='Повторите пароль'>\n\t\t\t</div>\n\t\t\t<button class='g-btn g-btn--modal'>Зарегистрироваться</button>\n\t\t</form>\n\t\t<div class=\"vmodal__footer\">\n\t\t\t<span class=\"helper\">Уже есть аккаунт?</span>\n\t\t\t<button data-modal=\"repeat-login\" class=\"change__btn\">Войдите</button>\n\t\t</div> ");break;case"forgot":v.setContent("восстановление пароля","\n\t\t<form action=''>\n\t\t\t<div class='input-wrap'>\n\t\t\t\t<input type='email' name='email' placeholder='E-mail'>\n\t\t\t</div>\n\t\t\t<button class='g-btn g-btn--modal'>Отправить</button>\n\t\t</form>");break;case"reviews":v=$plugins.modal(b),setTimeout(function(){return v.open()},100);break;case"cart":v=$plugins.modal(f),setTimeout(function(){return v.open()},100)}});var h,_,y,w,k,i=document.querySelector(".card__times");function x(t){return t<=9?"0"+t:t}function C(){var t,e,n,n=(t=h,e=Date.parse(t)-Date.parse(new Date),n=Math.floor(e/1e3%60),t=Math.floor(e/1e3/60%60),{total:e,hours:Math.floor(e/36e5%24),minutes:t,seconds:n});_.textContent=x(n.hours),y.textContent=x(n.minutes),w.textContent=x(n.seconds),n.total<=0&&(_.textContent="00",y.textContent="00",w.textContent="00",clearInterval(k))}i&&(i=i.getAttribute("data-dates"),h=i,_=document.querySelector(".hours"),y=document.querySelector(".minutes"),w=document.querySelector(".seconds"),k=setInterval(C,1e3),C()),$(".reviews-users").magnificPopup({delegate:"a",type:"image",gallery:{tCounter:"%curr% / %total%",navigateByImgClick:!0,enabled:!0,arrowMarkup:'\n\t\t\t\t<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%">\n\t\t\t\t\t<svg class="svg-sprite-icon icon-arrow">\n\t\t\t\t\t\t<use xlink:href="static/images/sprite/symbol/sprite.svg#arrow"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button> '}}),$(".grid").masonry({gutter:8,columnWidth:".grid-item",itemSelector:".grid-item"}),$(".table__show").on("click",function(t){$(this).closest("tr").next().find(".lc__table-masc-block").slideToggle("fast")})});